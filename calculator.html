<!doctype html>
<html>
<head>
	<title>Calculator</title>
	<link rel="stylesheet" type="text/css" href="calculator.css" />
	<script type="text/javascript">

	function $(id){
		return document.getElementById(id);
	}

	var state = "off";
	var operator = "";
	var firstNumber = 0;
	var results = new Array();
	var i = 0;
	function clickNumber(number){
		if(state == "off"){
			$("showArea").value="";
		}
		var show = $("showArea");
		show.value = show.value+number;
		state = "on";
	}

	function clickBackspace(){
		var show = $("showArea");
		show.value = show.value.substr(0, (show.value.length-1));
		show.value=parseFloat(show.value);
		if (isNaN(show.value)) {
			show.value=0;
		}
	}

	function clickOpposite(){
		var show = $("showArea");
		show.value = 0-parseFloat(show.value);
		if (isNaN(show.value)) {
			show.value=0;
		}
	}

	function clickClear(){
		operator = "";
		firstNumber = 0;
		$("showArea").value=0;
		state = "off";
	}

	function calculate(oper){
		operator = oper;
		firstNumber = parseFloat($("showArea").value);
		state = "off";
	}

	function result(){
		var secondNumber = parseFloat($("showArea").value);
		var resultNumber = 0;
		if(operator == "+"){
			resultNumber = firstNumber + secondNumber;
		}
		else if(operator == "-"){
			resultNumber = firstNumber - secondNumber;
		}
		else if(operator == "*"){
			resultNumber = firstNumber * secondNumber;
		}
		else if(operator == "/"){
			resultNumber = firstNumber / secondNumber;
		}
		else{
			$("showArea").value = 0;
		}
		$("showArea").value = resultNumber;
		results[i++] = resultNumber;
		operator = "";
		firstNumber = resultNumber;
		state = "off";
	}

	function showResults(){
			if(results){
				$("showArea").value = "";
				for(i = 0; i<results.length; i++){
					$("showArea").value += results[i]+"\n\t"
				}
			}
		state = "off";
	}

	</script>

</head>
<body>
	<table id="t" align="center">
		<tr>
			<td colspan="4">
				<input type="textArea" id="showArea" value=0 /> <!-- dir="rtl"--> 
				<button id="showresults" onClick="showResults()">^</button>
			</td>
		</tr>
		<tr>
			<td>
				<button value="clear" onClick="clickClear()">C</button>
			</td>
			<td>
				<button value="opposite" onClick="clickOpposite()">+/-</button>
			</td>
			<td>
				<button value="backspace" onClick="clickBackspace()">Backspace</button>
			</td>
			<td>
				<button value="/" onClick="calculate('/')">/</button>
			</td>
		</tr>
		<tr>
			<td>
				<button value="7" onClick="clickNumber(7)">7</button>
			</td>
			<td>
				<button value="8" onClick="clickNumber(8)">8</button>
			</td>
			<td>
				<button value="9" onClick="clickNumber(9)">9</button>
			</td>
			<td>
				<button value="*" onClick="calculate('*')">*</button>
			</td>
		</tr>
		<tr>
			<td>
				<button value="4" onClick="clickNumber(4)">4</button>
			</td>
			<td>
				<button value="5" onClick="clickNumber(5)">5</button>
			</td>
			<td>
				<button value="6" onClick="clickNumber(6)">6</button>
			</td>
			<td>
				<button value="-" onClick="calculate('-')">-</button>
			</td>
		</tr>
		<tr>
			<td>
				<button value="1" onClick="clickNumber(1)">1</button>
			</td>
			<td>
				<button value="2" onClick="clickNumber(2)">2</button>
			</td>
			<td>
				<button value="3" onClick="clickNumber(3)">3</button>
			</td>
			<td>
				<button value="+" onClick="calculate('+')">+</button>
			</td>
		</tr>
		<tr>
			<td>
				<button value="0" onClick="clickNumber(0)">0</button>
			</td>
			<td>
				<button value="." onClick="clickNumber('.')">.</button>
			</td>
			<td colspan="2">
				<button value="=" class="result" onClick="result()">=</button>
			</td>
		</tr>
	</table>
</body>
</html>